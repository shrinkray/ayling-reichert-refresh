!function(e){jQuery(document).ready(function(){e(".qubely-block-contact-form form.qubely-form:not(.qubely-form-ready)").each(function(){const t=e(this);t.addClass("qubely-form-ready"),t.find("input.qubely-form-control").on("keydown",e=>{if(13===e.which)return e.preventDefault(),!1}),r(t,!0),t.submit(e=>{e.preventDefault();let a=t.serializeArray();if(!r(t)){const e=t.find('input[name="recaptcha"]').val(),r=this.querySelector("form .qubely-google-recaptcha");"true"==e&&r&&a.push({name:"captcha",value:"undefined"!=typeof grecaptcha?grecaptcha.getResponse():void 0}),jQuery.ajax({url:qubely_urls.ajax+"?action=qubely_send_form_data",type:"POST",data:a,beforeSend:()=>{t.find('button[type="submit"]').addClass("disable").attr("disabled",!0),t.find(".qubely-form-message").html('<div class="qubely-alert qubely-alert-info">Message sending...</div>')},success:e=>{t.find('button[type="submit"]').removeClass("disable").attr("disabled",!1),t.find(".qubely-form-message").html(`<div class="qubely-alert qubely-alert-success">${e.data.msg}</div>`),setTimeout(()=>t.find(".qubely-form-message").html(""),4e3),1==e.data.status&&t.trigger("reset")},error:(e,r,a)=>{t.find('button[type="submit"]').removeClass("disable").attr("disabled",!1),t.find(".qubely-form-message").html(`<div class="qubely-alert qubely-alert-danger">${r} : ${a} - ${e.responseJSON}</div>`)}})}})});{function t(e){return new Promise((t,r)=>{const a=document.createElement("script");a.src=e,a.async=!0,a.onload=(()=>{t()});const n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)})}}function r(t){const r=atob(t.find('input[name="field-error-message"]').val());let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!1;return t.find(" input[type=text], input[type=email], input[type=radio], input[type=checkbox], textarea, select").each(function(){if(!0===n)e(this).on("change keyup",function(){if(i=a(e(this),r))return!1});else if(i=a(e(this),r))return!1}),i}function a(e,t){let r=!1;const a=e.parents(".qubely-form-group-inner");t=`<p class="qubely-form-required-field">${t}</p>`;const n=0===a.find("p.qubely-form-required-field").length;if(void 0!==e.prop("required")){if("email"===e.attr("type")&&(i=e.val(),!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(i).toLowerCase())))return n&&a.append(t),!0;0===e.val().length&&(n&&a.append(t),r=!0),e.val().length>0&&(a.find("p.qubely-form-required-field").remove(),r=!1)}var i;if("radio"===e.attr("type")||"checkbox"===e.attr("type")){const i=e.parent().parent();"true"==i.attr("data-required")&&(0===i.find("input:checked").length?(n&&a.append(t),r=!0):(a.find("p.qubely-form-required-field").remove(),r=!1))}return r}this.querySelector("form .qubely-google-recaptcha")&&t("https://www.google.com/recaptcha/api.js?onload=initGoogleReChaptcha&render=explicit").then(()=>{window.initGoogleReChaptcha=(()=>{e("form.qubely-form").each(function(){const t=e(this),r=t.find('input[name="recaptcha"]').val(),a=t.find('input[name="recaptcha-site-key"]').val();if("true"==r){const e=this.querySelector("form .qubely-google-recaptcha");grecaptcha.render(e,{sitekey:a})}})})})})}(jQuery);